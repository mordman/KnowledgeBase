- **Объекты-заглушки (Dummy objects)** передаются в коде, но никогда не используются по-настоящему. Обычно они нужны только для заполнения списков параметров.
- **Фейковые объекты (Fake objects)** имеют работающую реализацию, но обычно используют "укороченные" пути, из-за чего они не подходят для продакшн-среды (например, тестовая база данных в памяти — хороший пример).
- **Заглушки (Stubs)** возвращают заранее определённые ответы на вызовы во время теста. Обычно они не реагируют на вызовы, которые не были запрограммированы для теста.
- **Шпионы (Spies)** — это заглушки, которые также записывают информацию о том, как их вызывали. Например, сервис отправки писем, который фиксирует, сколько сообщений было отправлено.
- **Моки (Mocks)** запрограммированы с ожиданиями, которые формируют спецификацию вызовов, которые они должны получить. Они могут выбрасывать исключение, если получают неожиданный вызов, и проверяются во время верификации, чтобы убедиться, что они получили все ожидаемые вызовы.

---

### **Описание элементов тестовых двойников (Test Doubles):**



## Оглавление
- [**Описание элементов тестовых двойников (Test Doubles):**](#описание-элементов-тестовых-двойников-test-doubles)
  - [**1. Dummy (Объект-заглушка)**](#1-dummy-объект-заглушка)
  - [**2. Fake (Фейковый объект)**](#2-fake-фейковый-объект)
  - [**3. Stub (Заглушка)**](#3-stub-заглушка)
  - [**4. Spy (Шпион)**](#4-spy-шпион)
  - [**5. Mock (Мок)**](#5-mock-мок)
- [**Когда что использовать?**](#когда-что-использовать)

  - [**1. Dummy (Объект-заглушка)**](#1-dummy-объект-заглушка)
  - [**2. Fake (Фейковый объект)**](#2-fake-фейковый-объект)
  - [**3. Stub (Заглушка)**](#3-stub-заглушка)
  - [**4. Spy (Шпион)**](#4-spy-шпион)
  - [**5. Mock (Мок)**](#5-mock-мок)
#### **1. Dummy (Объект-заглушка)**
- **Назначение:** Используется только для заполнения параметров методов, когда реальный объект не нужен.
- **Пример:** Передача `null` или пустого объекта в метод, если параметр не используется в тесте.
- **Особенности:** Не имеет логики, не влияет на результат теста.

---

#### **2. Fake (Фейковый объект)**
- **Назначение:** Имеет упрощённую, но рабочую реализацию. Используется, когда реальный объект слишком сложен или медленен для тестирования.
- **Пример:** Тестовая база данных в памяти (`InMemoryDatabase`) вместо реальной базы данных.
- **Особенности:**
  - Может хранить состояние.
  - Не подходит для продакшн-среды из-за упрощений.
  - Часто используется для замены внешних зависимостей (например, API или базы данных).

---

#### **3. Stub (Заглушка)**
- **Назначение:** Возвращает заранее определённые ответы на вызовы. Используется для контроля поведения тестируемого кода.
- **Пример:** Метод `GetUserById` всегда возвращает пользователя с фиксированным `Id = 1`.
- **Особенности:**
  - Не реагирует на вызовы, которые не были запрограммированы.
  - Не записывает информацию о вызовах.
  - Используется для имитации ответов от зависимостей.

---

#### **4. Spy (Шпион)**
- **Назначение:** Заглушка, которая записывает информацию о вызовах (например, количество вызовов, переданные аргументы).
- **Пример:** Сервис отправки писем, который фиксирует, сколько раз был вызван метод `SendEmail`.
- **Особенности:**
  - Может использоваться для проверки косвенных эффектов (например, сколько раз был вызван метод).
  - Не проверяет ожидания автоматически (в отличие от моков).

---

#### **5. Mock (Мок)**
- **Назначение:** Запрограммирован с ожиданиями, которые определяют, какие вызовы он должен получить. Используется для проверки взаимодействий между объектами.
- **Пример:** Мок репозитория пользователей, который ожидает, что метод `Save` будет вызван ровно один раз с пользователем, у которого `Id > 0`.
- **Особенности:**
  - Проверяет, что все ожидаемые вызовы были сделаны (верификация).
  - Может выбрасывать исключения, если получает неожиданные вызовы.
  - Часто используется в TDD (Test-Driven Development) для проверки контрактов между объектами.

---

### **Когда что использовать?**
| Тип          | Когда использовать                                                                 |
|--------------|------------------------------------------------------------------------------------|
| **Dummy**    | Нужно просто заполнить параметр, который не используется в тесте.                |
| **Fake**     | Нужна рабочая, но упрощённая версия зависимости (например, тестовая база данных).  |
| **Stub**     | Нужно контролировать ответы зависимости для тестирования логики.                 |
| **Spy**      | Нужно записать информацию о вызовах (например, для проверки количества вызовов).  |
| **Mock**     | Нужно проверить, что зависимости вызываются правильно (верификация взаимодействий).|

---