## **9. Health Check (Проверка работоспособности)**


## Оглавление
- [**9. Health Check (Проверка работоспособности)**](#9-health-check-проверка-работоспособности)
  - [**Цель**](#цель)
  - [**Принцип работы**](#принцип-работы)
  - [**Пример на ASP.NET Core**](#пример-на-aspnet-core)
  - [**Плюсы и минусы**](#плюсы-и-минусы)

  - [**Цель**](#цель)
  - [**Принцип работы**](#принцип-работы)
  - [**Пример на ASP.NET Core**](#пример-на-aspnet-core)
  - [**Плюсы и минусы**](#плюсы-и-минусы)
### **Цель**
Мониторить состояние сервисов и зависимостей (например, базы данных, внешние API).

---

### **Принцип работы**
- Периодически проверяет доступность сервисов.
- Возвращает статус (например, `Healthy`, `Degraded`, `Unhealthy`).

---

### **Пример на ASP.NET Core**
```csharp
using Microsoft.AspNetCore.Builder;
using Microsoft.AspNetCore.Diagnostics.HealthChecks;
using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Diagnostics.HealthChecks;
using System.Threading.Tasks;

class Program
{
    static void Main(string[] args)
    {
        var builder = WebApplication.CreateBuilder(args);

        builder.Services.AddHealthChecks()
            .AddCheck("Database", () => HealthCheckResult.Healthy("OK"))
            .AddUrlGroup(new Uri("https://example.com/api"), "External API");

        var app = builder.Build();

        app.UseHealthChecks("/health");

        app.Run();
    }
}
```

---

### **Плюсы и минусы**
| Плюсы                                      | Минусы                                      |
|--------------------------------------------|---------------------------------------------|
| Упрощает мониторинг системы.               | Требует интеграции с системами мониторинга. |
| Позволяет быстро обнаруживать сбои.        | Может создавать дополнительную нагрузку.    |