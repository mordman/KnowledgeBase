**TDD (Test-Driven Development, разработка через тестирование)** — это подход к разработке программного обеспечения, при котором тесты пишутся **до** написания самого кода. Основная идея TDD заключается в циклическом процессе: сначала создается тест, который проверяет желаемое поведение кода, затем пишется минимальный код, чтобы этот тест прошел, и наконец, проводится рефакторинг кода с сохранением работоспособности тестов.

---

## **Основные шаги TDD (Красный-Зеленый-Рефакторинг)**


## Оглавление
- [**Основные шаги TDD (Красный-Зеленый-Рефакторинг)**](#основные-шаги-tdd-красный-зеленый-рефакторинг)
- [**Преимущества TDD**](#преимущества-tdd)
- [**Пример TDD на C#**](#пример-tdd-на-c)
  - [**1. Красный: Пишем тест**](#1-красный-пишем-тест)
  - [**2. Зеленый: Пишем минимальный код, чтобы тест прошел**](#2-зеленый-пишем-минимальный-код-чтобы-тест-прошел)
  - [**3. Рефакторинг**](#3-рефакторинг)
- [**Когда использовать TDD?**](#когда-использовать-tdd)
- [**Частые вопросы**](#частые-вопросы)

  - [**1. Красный: Пишем тест**](#1-красный-пишем-тест)
  - [**2. Зеленый: Пишем минимальный код, чтобы тест прошел**](#2-зеленый-пишем-минимальный-код-чтобы-тест-прошел)
  - [**3. Рефакторинг**](#3-рефакторинг)
1. **Красный (Red)**: Написать тест, который проверяет желаемое поведение. Тест должен падать, так как функциональность еще не реализована.
2. **Зеленый (Green)**: Написать минимальный код, чтобы тест прошел.
3. **Рефакторинг (Refactor)**: Улучшить код, сохраняя работоспособность тестов.

---

## **Преимущества TDD**
- **Высокое покрытие тестами**: Код создается с учетом тестируемости, что повышает его надежность.
- **Меньше багов**: Тесты выявляют ошибки на ранних этапах разработки.
- **Лучшая архитектура**: Код становится более модульным и гибким, так как его легко тестировать.
- **Документация**: Тесты служат живой документацией, показывающей, как должен работать код.

---

## **Пример TDD на C#**

### **1. Красный: Пишем тест**
Допустим, нам нужно написать функцию, которая складывает два числа.

```csharp
using Xunit;

public class CalculatorTests
{
    [Fact]
    public void Add_TwoNumbers_ReturnsSum()
    {
        // Arrange
        var calculator = new Calculator();

        // Act
        var result = calculator.Add(2, 3);

        // Assert
        Assert.Equal(5, result);
    }
}
```

### **2. Зеленый: Пишем минимальный код, чтобы тест прошел**
```csharp
public class Calculator
{
    public int Add(int a, int b)
    {
        return a + b;
    }
}
```

### **3. Рефакторинг**
Если нужно, улучшаем код (например, добавляем валидацию или оптимизируем логику), но тесты должны оставаться успешными.

---

## **Когда использовать TDD?**
- При разработке новой функциональности.
- Для критических частей системы, где важна надежность.
- В проектах с частыми изменениями требований.

---

## **Частые вопросы**
- **Что если тесты замедляют разработку?**
  На начальном этапе TDD может казаться медленным, но в долгосрочной перспективе экономит время за счет уменьшения багов и упрощения поддержки кода.

- **Как быть с сложными системами?**
  TDD особенно полезен для сложных систем, так как помогает разбивать задачи на небольшие, тестируемые части.

- **Можно ли комбинировать TDD с другими подходами?**
  Да, TDD часто используется вместе с BDD (Behavior-Driven Development) и DDD (Domain-Driven Design).

---